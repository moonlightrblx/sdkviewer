<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Moonlight Lua API — Documentation</title> <meta name="description" content="Official Moonlight overlay Lua API docs. Draw API, Callbacks, Globals."> <meta name="theme-color" content="#ff0044"> <link rel="stylesheet" href="style_docs.min.css"> <link rel="icon" href="assets/logo.png" type="image/png"> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"> <link rel="stylesheet" href="prism-dracula.min.css"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9874246941860477" crossorigin="anonymous"></script> </head> <body> <div class="loader-wrapper"> <div class="loader"> <img src="assets/logo.png" alt="Moonlight"> </div> </div> <header class="header"> <nav class="navbar"> <div class="logo"> <img src="assets/logo.png" alt="Moonlight"> <span>Moonlight</span> </div> <div class="hamburger">  </div> <ul class="nav-links"> <li><a href="#callbacks-api">Callbacks</a></li> <li><a href="#draw-api">Draw API</a></li> <li><a href="#globals-api">Globals</a></li> <li><a href="#example-script">Example</a></li> <li><a href="https://moonlightrblx.github.io/discord" target="_blank">Discord</a></li> </ul> </nav> </header> <main class="main"> <section class="hero"> <h1><span class="titlept1">Moonlight</span> <span class="titlept2">Lua API</span></h1> <p class="tagline">The most powerful overlay scripting API</p> <p class="subtitle">Draw ESP, HUDs, watermarks, 3D to 2D projection — all in Lua</p> <div class="button-group"> <a href="#callbacks-api" class="cta-button">Explore API</a> <a href="https://moonlightrblx.github.io/download" class="cta-button download-button">Download Moonlight</a> </div> </section> <section id="callbacks-api" class="content-section"> <h2>Callbacks API</h2> <p>Register Lua functions that the C++ host will call at specific times (paint, rescan).</p> <h3>callbacks.paint(function)</h3> <p>Registers a function that runs every frame during the render pass.</p> <div class="code-block"> <button class="copy-btn" data-target="cp1">Copy</button> <pre id="cp1"><code class="language-lua">callbacks.paint(function()
    draw.addtext(50, 50, 1, 255, 255, 255, 255, "Hello, World!")
end)</code></pre> </div> <h3>callbacks.rescan(function)</h3> <p>Registers a function that runs when the C++ layer triggers a rescan event.</p> <div class="code-block"> <button class="copy-btn" data-target="cp2">Copy</button> <pre id="cp2"><code class="language-lua">callbacks.rescan(function()
    print("Rescan triggered!")
end)</code></pre> </div> </section> <section id="draw-api" class="content-section"> <h2>Draw API</h2> <p>The Draw API uses ImGui's background draw list to render 2D elements on-screen. Coordinates are in pixels.</p> <h3 id="drawaddtext">draw.addtext(x, y, size, r, g, b, a, text)</h3> <p>Draws text with an outline. <em>size</em> selects a font scale preset. Alpha ranges 0–255.</p> <table> <thead><tr><th>Parameter<th>Type<th>Description</thead> <tbody> <tr><td>x, y<td>number<td>Screen coordinates</tr> <tr><td>size<td>integer<td>Font scale preset (1..3)</tr> <tr><td>r,g,b,a<td>integer<td>Color and alpha (0-255)</tr> <tr><td>text<td>string<td>Text string</tr> </tbody> </table> <div class="code-block"> <button class="copy-btn" data-target="cp3">Copy</button> <pre id="cp3"><code class="language-lua">draw.addtext(200, 100, 2, 255, 255, 255, 255, "FPS: 144")</code></pre> </div> <h3 id="drawcalculatetextsize">draw.calculatetextsize(text)</h3> <p>Returns width and height of <code>text</code> in pixels.</p> <div class="code-block"> <button class="copy-btn" data-target="cp4">Copy</button> <pre id="cp4"><code class="language-lua">local w, h = draw.calculatetextsize("Hello")</code></pre> </div> <h3 id="drawscreensize">draw.screensize()</h3> <p>Returns screen width and height (uses host OS metrics).</p> <div class="code-block"> <button class="copy-btn" data-target="cp5">Copy</button> <pre id="cp5"><code class="language-lua">local w, h = draw.screensize()</code></pre> </div> <h3 id="drawaddrect">draw.addrect(x, y, width, height, r, g, b [, thickness])</h3> <p>Outlined rectangle. <code>thickness</code> defaults to <code>1.0</code>.</p> <div class="code-block"> <button class="copy-btn" data-target="cp6">Copy</button> <pre id="cp6"><code class="language-lua">draw.addrect(100, 100, 200, 100, 255, 0, 0, 2)</code></pre> </div> <h3 id="drawaddrectfilled">draw.addrectfilled(x, y, width, height, r, g, b [, a])</h3> <p>Filled rectangle. Alpha defaults to 255.</p> <div class="code-block"> <button class="copy-btn" data-target="cp7">Copy</button> <pre id="cp7"><code class="language-lua">draw.addrectfilled(50, 50, 150, 75, 0, 128, 255, 180)</code></pre> </div> <h3 id="drawaddgradient">draw.addgradient(x, y, width, height, r1,g1,b1,a1, r2,g2,b2,a2, r3,g3,b3,a3, r4,g4,b4,a4)</h3> <p>Gradient rectangle with per-corner colors (TL, TR, BL, BR).</p> <div class="code-block"> <button class="copy-btn" data-target="cp8">Copy</button> <pre id="cp8"><code class="language-lua">draw.addgradient(
0, 0, 300, 60,
20,20,20,255,
40,40,40,255,
10,10,10,255,
25,25,25,255
)</code></pre> </div> <h3 id="drawworldtoscreen">draw.WorldToScreen(x, y, z)</h3> <p>Converts a 3D point to 2D screen coordinates. Returns <code>(x, y)</code> or <code>(nil, nil)</code> if invalid.</p> <div class="code-block"> <button class="copy-btn" data-target="cp9">Copy</button> <pre id="cp9"><code class="language-lua">local sx, sy = draw.WorldToScreen(0, 10, 0)
if sx then
  draw.addtext(sx, sy, 1, 255, 255, 0, 255, "Target")
end</code></pre> </div> </section> <section id="globals-api" class="content-section"> <h2>Globals API</h2> <p>Helpers exposing environment data.</p> <h3 id="globalsusername">globals.username()</h3> <p>Returns the username string provided by the host.</p> <div class="code-block"> <button class="copy-btn" data-target="cp10">Copy</button> <pre id="cp10"><code class="language-lua">local user = globals.username()
draw.addtext(10, 10, 1, 255, 255, 255, 255, "User: " .. user)</code></pre> </div> <h3 id="globalsgetlocalbone">globals.GetLocalBone(boneName)</h3> <p>Returns the local player's bone position as <code>x,y,z</code>. Use with <code>draw.WorldToScreen</code>.</p> <div class="code-block"> <button class="copy-btn" data-target="cp11">Copy</button> <pre id="cp11"><code class="language-lua">local x, y, z = globals.GetLocalBone("Head")
if x then
  local sx, sy = draw.WorldToScreen(x, y, z)
  if sx then
    draw.addtext(sx, sy - 10, 1, 255, 0, 0, 255, "HEAD")
  end
end</code></pre> </div> <h3 id="globalsgetplayers">globals.GetPlayers()</h3> <p>Returns a table of all cached players. Each entry has: <code>name, health, enemy, team, x, y, z</code>.</p> <div class="code-block"> <button class="copy-btn" data-target="cp13">Copy</button> <pre id="cp13"><code class="language-lua">local players = globals.GetPlayers()
for _, p in pairs(players) do
  if p.enemy and p.health > 0 then
    print(p.name .. " @ " .. p.x .. "," .. p.y .. "," .. p.z)
  end
end</code></pre> </div> <h3 id="globalsreadmemory">globals.ReadMemory(address, type)</h3> <p>Reads memory at <code>address</code>. <code>type</code>: <code>1=int</code>, <code>2=float</code>, <code>3=bool</code>.</p> <div class="code-block"> <button class="copy-btn" data-target="cp14">Copy</button> <pre id="cp14"><code class="language-lua">local value = globals.ReadMemory(0xDEADBEEF, 2)
if value then print("Float: " .. value) end</code></pre> </div> </section> <section id="example-script" class="content-section"> <h2>Example Script</h2> <p>Draws a header bar with title and username.</p> <div class="code-block"> <button class="copy-btn" data-target="cp12">Copy</button> <pre id="cp12"><code class="language-lua">callbacks.paint(function()
  local w, h = draw.screensize()
  draw.addgradient(0, 0, w, 40,
    15,15,15,255, 25,25,25,255, 20,20,20,255, 30,30,30,255)
  local title = "Moonlight Overlay Example"
  local tw, th = draw.calculatetextsize(title)
  draw.addtext(w/2 - tw/2, 10, 2, 255,255,255,255, title)
  local user = globals.username()
  draw.addtext(10, h - 25, 1, 180,180,180,255, "User: " .. user)
end)</code></pre> </div> </section> <section class="join-us"> <h2>Ready to build something insane?</h2> <p>Join 10,000+ scripters using Moonlight</p> <div class="join-buttons"> <a href="https://moonlightrblx.github.io/discord" class="join-button discord-btn">Join Discord</a> <a href="https://moonlightrblx.github.io/download" class="join-button download-btn">Download Now</a> </div> <p class="meta"> Scripts folder: <code class="highlight">C:\moonlight\scripts\</code> </p> </section> </main> <footer class="footer"> <p>© 2025 Moonlight • Made with blood, sweat, and 3 Red Bulls a day</p> </footer> <script>document.querySelectorAll(".copy-btn").forEach((t=>{t.addEventListener("click",(async()=>{const e=t.getAttribute("data-target"),n=document.getElementById(e).innerText;try{await navigator.clipboard.writeText(n),t.textContent="Copied!",t.classList.add("copied"),setTimeout((()=>{t.textContent="Copy",t.classList.remove("copied")}),1500)}catch(e){t.textContent="Failed"}}))}))</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script> <script src="universal.min.js"></script> 