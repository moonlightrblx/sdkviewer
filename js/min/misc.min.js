let query="";const searchUI=document.getElementById("searchui"),charsWrap=document.getElementById("chars"),placeholder=document.getElementById("ph"),clearBtn=document.getElementById("clearbtn"),appendChar=e=>{placeholder.style.display="none";const r=document.createElement("span");r.className="char",r.textContent=e,charsWrap.appendChild(r)},removeLastChar=()=>{const e=charsWrap.lastElementChild;e&&e.remove(),charsWrap.hasChildNodes()||(placeholder.style.display="block")},clearSearch=()=>{query="",charsWrap.innerHTML="",placeholder.style.display="block",renderClassList("")};searchUI.addEventListener("click",(()=>searchUI.focus())),searchUI.addEventListener("focus",(()=>{searchUI.classList.add("focused"),query||(placeholder.style.display="none")})),searchUI.addEventListener("blur",(()=>{searchUI.classList.remove("focused"),query||(placeholder.style.display="block")})),document.addEventListener("keydown",(e=>{if(!searchUI.matches(":focus")&&e.target!==searchUI)return;const r=e.key;if(1!==r.length||e.ctrlKey||e.metaKey||e.altKey)if("Backspace"===r&&query)query=query.slice(0,-1),removeLastChar(),renderClassList(query),e.preventDefault();else if("Enter"===r){const r=document.querySelector(".class-item.active")||document.querySelector(".class-item");r?.click(),e.preventDefault()}else"Escape"===r&&(clearSearch(),searchUI.blur(),e.preventDefault());else query+=r,appendChar(r),renderClassList(query),e.preventDefault()})),clearBtn.addEventListener("click",(e=>{e.stopPropagation(),clearSearch(),searchUI.focus()}));const cursor=document.getElementById("cursor");cursor&&(document.addEventListener("mousemove",(e=>{cursor.style.transform=`translate(${e.clientX-8}px, ${e.clientY-8}px)`})),document.addEventListener("mousedown",(()=>cursor.classList.add("click"))),document.addEventListener("mouseup",(()=>cursor.classList.remove("click"))));